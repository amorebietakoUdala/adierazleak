<table id="taula" class="table" {{ stimulus_controller('table', {
   'exportName': 'contracts',
   'pageSize' : pageSize,
   'page': page,
   'sortName': sortName,
   'sortOrder': sortOrder,
}) }}>
   <thead>
         <tr>
            <th data-sortable="true">{{ 'label.indicator' | trans }}</th>
            <th data-sortable="true" data-sorter="lastValueSorter">{{ 'label.lastValue' | trans }}</th>
            <th>{{ 'label.options' | trans }}</th>
         </tr>
   </thead>
   <tbody>
   {% for observation in observations %}
         <tr>
            <td>{{ (app.request.locale == 'es') ? indicators[loop.index0].descriptionEs : indicators[loop.index0].descriptionEu }}</td>
            {% if observation.value is defined %}
               <td>
                  <span
                     {% if observation.notes is defined %}  
                        data-bs-toggle="tooltip" 
                        data-bs-toggle="top"
                        title="{{ observation.notes }}"
                     {% endif %}>
                     {{ observation.value | number_format(2,',','.') }} ({{ observation.year~'/'~ ( observation.month < 10 ? '0'~observation.month : observation.month) }})&nbsp; 
                     <a href="#" 
                        data-action="entity#edit" 
                        data-url="{{ path('observation_edit', {'id': observation.id}) }}" 
                        data-allowEdit="true">
                        <i class="fa fa-edit" title='{{ "btn.edit" | trans | capitalize }}'></i>
                     </a>
                  </span>
               </td>
            {% else %}
               <td>{{ 'label.noValueDefined' | trans }}</td>
            {% endif %}
            <td>
               <a class="text-decoration-none" href="#" data-action="click->entity#openModal" data-indicatorId="{{ indicators[loop.index0].id }}">
                  <i class="fa fa-plus" title='{{ "btn.new" | trans | capitalize }}'></i>&nbsp;
               </a>
               <a class="text-decoration-none" 
                  href="{{ path('observation_search', {'indicator': indicators[loop.index0].id }) }}"
                  {# data-url="{{ absolute_url(path(app.request.attributes.get('_route'))) }}"  #}
                  data-action="click->table#onClick" 
                  data-return-url="{{ absolute_url(path(app.request.attributes.get('_route'))) }}" 
                  data-pagination="false">
                  <i class="fa fa-search" aria-hidden="true"></i>&nbsp;
               </a>
            </td>
         </tr>
   {% else %}
         <tr>
            <td colspan="4">no records found</td>
         </tr>
   {% endfor %}
   </tbody>
</table>